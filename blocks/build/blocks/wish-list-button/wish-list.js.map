{"version":3,"file":"blocks/wish-list-button/wish-list.js","mappings":";;;;AAAA,CAAC,UAAUA,CAAC,EAAE;EAEb,SAASC,MAAMA,CAAEC,IAAI,EAAE;IAEnB,IAAIC,GAAG,GAAG,SAAS;IAEnB,IAAI,CAACC,OAAO,GAAGF,IAAI;IAEnB,IAAI,CAACG,QAAQ,GAAG,YAAU;MACtB,IAAI,CAACD,OAAO,CAACE,QAAQ,CAAEH,GAAI,CAAC;IAChC,CAAC;IAED,IAAI,CAACI,UAAU,GAAG,YAAU;MACxB,IAAI,CAACH,OAAO,CAACI,WAAW,CAAEL,GAAI,CAAC;IACnC,CAAC;EACL;EAEA,IAAIM,KAAK,GAAG,SAAAA,CAAUC,IAAI,EAAE;IAExB,IAAIC,IAAI,GAAG,IAAIV,MAAM,CAAES,IAAI,CAACE,MAAO,CAAC;IACpCD,IAAI,CAACN,QAAQ,CAAC,CAAC;IAEf,OAAOL,CAAC,CAACa,IAAI,CAAC;MACVC,GAAG,EAAKJ,IAAI,CAACI,GAAG;MAChBC,IAAI,EAAI,MAAM;MACdC,IAAI,EAAIN,IAAI,CAACM,IAAI;MACjBC,KAAK,EAAG,SAAAA,CAAUC,GAAG,EAAE;QACnB;MAAA,CACH;MACDC,OAAO,EAAG,SAAAA,CAAUD,GAAG,EAAE;QACrBR,IAAI,CAACS,OAAO,CAAED,GAAG,CAACF,IAAI,IAAIE,GAAI,CAAC;MACnC,CAAC;MACDE,QAAQ,EAAE,SAAAA,CAAA,EAAU;QAChB,IAAIV,IAAI,CAACU,QAAQ,EAAE;UACfV,IAAI,CAACU,QAAQ,CAAC,CAAC;QACnB;QACAT,IAAI,CAACJ,UAAU,CAAC,CAAC;MACrB;IACJ,CAAC,CAAC;EACN,CAAC;EACD,IAAIc,QAAQ,GAAG;IACdC,IAAI,EAAE,SAAAA,CAAA,EAAU;MACftB,CAAC,CAAEuB,QAAS,CAAC,CAACC,EAAE,CAAE,OAAO,EAAE,6BAA6B,EAAE,IAAI,CAACC,OAAQ,CAAC;IACzE,CAAC;IACDA,OAAO,EAAE,SAAAA,CAAUC,CAAC,EAAE;MAErBA,CAAC,CAACC,cAAc,CAAC,CAAC;MAElB,IAAIC,UAAU,GAAG5B,CAAC,CAAE,IAAK,CAAC,CAACgB,IAAI,CAAE,SAAU,CAAC;QAC3Ca,KAAK,GAAG7B,CAAC,CAAE,IAAK,CAAC,CAAC8B,IAAI,CAAE,YAAa,CAAC;QACtCC,IAAI,GAAG/B,CAAC,CAAE,IAAK,CAAC;MACjB,IAAIgC,SAAS,GAAG,SAAAA,CAAUhB,IAAI,EAAE;QAC/B,IAAKA,IAAI,CAACiB,QAAQ,IAAI,OAAO,EAAG;UAC/BF,IAAI,CAACzB,QAAQ,CAAE,OAAQ,CAAC;UACxBuB,KAAK,EAAE;UACP7B,CAAC,CAAE,qBAAsB,CAAC,CAACkC,IAAI,CAAEL,KAAM,CAAC;UACxC7B,CAAC,CAAE,6BAA8B,CAAC,CAAC8B,IAAI,CAAE,YAAY,EAAED,KAAM,CAAC;QAC/D,CAAC,MAAI;UACJE,IAAI,CAACvB,WAAW,CAAE,OAAQ,CAAC;UAC3BqB,KAAK,EAAE;UACP7B,CAAC,CAAE,qBAAsB,CAAC,CAACkC,IAAI,CAAEL,KAAM,CAAC;UACxC7B,CAAC,CAAE,6BAA8B,CAAC,CAAC8B,IAAI,CAAE,YAAY,EAAED,KAAM,CAAC;QAC/D;MACD,CAAC;MAEDpB,KAAK,CAAC;QACLK,GAAG,EAAIqB,kBAAkB,CAACC,QAAQ;QAClCpB,IAAI,EAAG;UACNqB,MAAM,EAAK,2BAA2B;UACtCC,QAAQ,EAAGC,UAAU,CAACC,UAAU;UAChCC,OAAO,EAAIb;QACZ,CAAC;QACDT,OAAO,EAAGa,SAAS;QACnBpB,MAAM,EAAEZ,CAAC,CAAC,IAAI;MACf,CAAC,CAAC;IACH;EACD,CAAC;EAEDqB,QAAQ,CAACC,IAAI,CAAC,CAAC;AAEhB,CAAC,EAAEoB,MAAM,CAAC,C","sources":["webpack://wc-booster/./src/blocks/wish-list-button/wish-list.js"],"sourcesContent":["(function( $ ){\r\n\r\n\tfunction Loader( $ele ){\r\n\r\n\t    var cls = 'loading';\r\n\r\n\t    this.element = $ele;\r\n\r\n\t    this.activate = function(){\r\n\t        this.element.addClass( cls );\r\n\t    }\r\n\r\n\t    this.deactivate = function(){\r\n\t        this.element.removeClass( cls );\r\n\t    }\r\n\t}\r\n\r\n\tvar $http = function( args ){\r\n\r\n\t    var $btn = new Loader( args.button );\r\n\t    $btn.activate();\r\n\r\n\t    return $.ajax({\r\n\t        url   : args.url,\r\n\t        type  : 'post',\r\n\t        data  : args.data,\r\n\t        error : function( res ){\r\n\t            // args.error( res );\r\n\t        },  \r\n\t        success : function( res ){\r\n\t            args.success( res.data || res );\r\n\t        },\r\n\t        complete: function(){\r\n\t            if( args.complete ){\r\n\t                args.complete();\r\n\t            }\r\n\t            $btn.deactivate();\r\n\t        }\r\n\t    });\r\n\t}\r\n\tvar WishList = {\r\n\t\tinit: function(){\r\n\t\t\t$( document ).on( 'click', '.wc-booster-wishlist-button', this.request );\r\n\t\t},\r\n\t\trequest: function( e ){\r\n\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\tvar product_id = $( this ).data( 'item_id' ),\r\n\t\t\t\tcount = $( this ).attr( 'data-count' ),\r\n\t\t\t\tthat = $( this );\r\n\t\t\tvar onSuccess = function( data ){\r\n\t\t\t\tif ( data.response == 'added' ) {\r\n\t\t\t\t\tthat.addClass( 'added' );\r\n\t\t\t\t\tcount++ ;\r\n\t\t\t\t\t$( 'span.wishlist-count' ).html( count );\r\n\t\t\t\t\t$( '.wc-booster-wishlist-button' ).attr( 'data-count', count );\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthat.removeClass( 'added' );\r\n\t\t\t\t\tcount--;\r\n\t\t\t\t\t$( 'span.wishlist-count' ).html( count );\r\n\t\t\t\t\t$( '.wc-booster-wishlist-button' ).attr( 'data-count', count );\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\t$http({\r\n\t\t\t\turl  : woocommerce_params.ajax_url,\r\n\t\t\t\tdata : {\r\n\t\t\t\t\taction   : 'wc_booster_ajax_wish_list',\r\n\t\t\t\t\tsecurity : WC_BOOSTER.ajax_nonce,\r\n\t\t\t\t\tpost_id  : product_id\r\n\t\t\t\t},\r\n\t\t\t\tsuccess : onSuccess,\r\n\t\t\t\tbutton: $(this)\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tWishList.init();\r\n\t\r\n})(jQuery);"],"names":["$","Loader","$ele","cls","element","activate","addClass","deactivate","removeClass","$http","args","$btn","button","ajax","url","type","data","error","res","success","complete","WishList","init","document","on","request","e","preventDefault","product_id","count","attr","that","onSuccess","response","html","woocommerce_params","ajax_url","action","security","WC_BOOSTER","ajax_nonce","post_id","jQuery"],"sourceRoot":""}